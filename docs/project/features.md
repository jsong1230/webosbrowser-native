# 기능 백로그

> PRD: docs/project/prd.md

## 기능 목록

| ID | 기능명 | 설명 | 우선순위 | 의존성 | 병렬 그룹 | 충돌 영역 | 마일스톤 | 상태 |
|----|--------|------|----------|--------|-----------|-----------|----------|------|
| F-01 | 프로젝트 초기 설정 | Qt/C++ 프로젝트 생성, CMakeLists.txt, 디렉토리 구조, 스켈레톤 코드 | Must | - | - | 프로젝트 전체 | M1 | ✅ 완료 |
| F-02 | 웹뷰 통합 | webOS WebView API로 웹 페이지 렌더링 (Native) | Must | F-01 | - | WebView 컴포넌트 | M1 | ✅ 완료 |
| F-03 | URL 입력 UI | Qt 입력 위젯으로 URL 입력 (리모컨 최적화) | Must | F-01 | PG-1 | URLBar 컴포넌트 | M1 | ✅ 완료 |
| F-04 | 페이지 탐색 컨트롤 | 뒤로/앞으로/새로고침/홈 버튼 UI (Qt Widgets) | Must | F-02 | PG-1 | NavigationBar 컴포넌트 | M1 | ✅ 완료 |
| F-05 | 로딩 인디케이터 | 페이지 로딩 중 프로그레스바 표시 (Qt ProgressBar) | Must | F-02 | PG-1 | LoadingBar 컴포넌트 | M1 | ✅ 완료 |
| F-06 | 탭 관리 시스템 | 탭 상태 관리 (생성/전환/닫기) + 탭바 UI | Must | F-02 | - | TabManager 서비스, TabBar 컴포넌트 | M2 | ✅ 완료 |
| F-07 | 북마크 관리 | 북마크 CRUD + 폴더 구조 + UI (LS2 API 저장) | Must | F-01 | PG-2 | BookmarkManager 서비스, BookmarkPanel 컴포넌트 | M2 | ✅ 완료 (2026-02-14, Phase 1-3) |
| F-08 | 히스토리 관리 | 방문 기록 저장/조회/삭제 + UI (LS2 API 저장) | Must | F-02 | PG-2 | HistoryManager 서비스, HistoryPanel 컴포넌트 | M2 | ✅ 완료 (2026-02-14, Phase 1-3) |
| F-09 | 검색 엔진 통합 | Google, Naver 검색 엔진 선택 및 검색 쿼리 생성 | Must | F-03 | PG-2 | SearchEngine 서비스, URLBar 컴포넌트 | M2 | ✅ 완료 (2026-02-14) |
| F-10 | 에러 처리 | 연결 실패, 404, 렌더링 오류 시 에러 화면 | Must | F-02 | - | ErrorPage 컴포넌트, WebView 컴포넌트 | M2 | ⏳ 대기 |
| F-11 | 설정 화면 | 검색 엔진, 홈페이지, 테마, 브라우징 데이터 삭제 설정 | Must | F-09 | - | SettingsPanel 컴포넌트, Settings 서비스 | M3 | ⏳ 대기 |
| F-12 | 다운로드 관리 | 다운로드 시작/진행/완료 관리 + UI | Should | F-02 | PG-3 | DownloadManager 서비스, DownloadPanel 컴포넌트 | M3 | ⏳ 대기 |
| F-13 | 리모컨 단축키 | 채널 버튼, 컬러 버튼 등으로 기능 실행 (Qt 키 이벤트) | Should | F-06, F-07 | PG-3 | KeyboardHandler 서비스 | M3 | ⏳ 대기 |
| F-14 | HTTPS 보안 표시 | 보안 연결 상태 아이콘, 경고 다이얼로그 | Should | F-02 | PG-3 | SecurityIndicator 컴포넌트, URLBar 컴포넌트 | M3 | ⏳ 대기 |
| F-15 | 즐겨찾기 홈 화면 | 자주 가는 사이트 그리드 뷰 (홈 페이지) | Should | F-07 | - | HomePage 컴포넌트 | M3 | ⏳ 대기 |

### 병렬 그룹 규칙
- **같은 마일스톤** 내에서만 그룹 구성
- 그룹 내 기능 간 **상호 의존성 없음**
- 그룹 내 기능 간 **충돌 영역 미겹침**
- 그룹당 **최대 3개** 기능
- `-`이면 단독 실행 (의존성 체인의 시작점이거나 충돌 위험)

#### PG-1 (M1 병렬 그룹)
- F-03 (URL 입력 UI) - URLBar 컴포넌트
- F-04 (페이지 탐색 컨트롤) - NavigationBar 컴포넌트
- F-05 (로딩 인디케이터) - LoadingBar 컴포넌트
- 충돌 없음: 각 기능이 독립된 컴포넌트 개발

#### PG-2 (M2 병렬 그룹)
- F-07 (북마크 관리) - BookmarkManager + BookmarkPanel
- F-08 (히스토리 관리) - HistoryManager + HistoryPanel
- F-09 (검색 엔진 통합) - SearchEngine + URLBar (확장)
- 충돌 주의: F-09가 URLBar 수정 필요 → F-03 완료 후 시작

#### PG-3 (M3 병렬 그룹)
- F-12 (다운로드 관리) - DownloadManager + DownloadPanel
- F-13 (리모컨 단축키) - KeyboardHandler
- F-14 (HTTPS 보안 표시) - SecurityIndicator + URLBar (확장)
- 충돌 주의: F-14가 URLBar 수정 필요 → F-09 완료 후 시작

### 상태 범례
- ⏳ 대기: 아직 시작하지 않음
- 🔄 진행중: 현재 개발 중
- ✅ 완료: 개발 + 테스트 + 리뷰 완료
- ⏸️ 보류: 일시 중단
- ❌ 취소: 구현하지 않기로 결정

### 의존성 다이어그램

```
F-01 (프로젝트 초기 설정)
 ├─▶ F-02 (웹뷰 통합)
 │    ├─▶ F-06 (탭 관리) ──┬─▶ F-13 (리모컨 단축키)
 │    │                     └─▶ F-15 (즐겨찾기 홈 화면)
 │    ├─▶ F-08 (히스토리 관리)
 │    ├─▶ F-10 (에러 처리)
 │    ├─▶ F-12 (다운로드 관리)
 │    ├─▶ F-14 (HTTPS 보안 표시)
 │    └─▶ F-04 (페이지 탐색 컨트롤)
 │    └─▶ F-05 (로딩 인디케이터)
 ├─▶ F-03 (URL 입력 UI)
 │    └─▶ F-09 (검색 엔진 통합)
 │         └─▶ F-11 (설정 화면)
 └─▶ F-07 (북마크 관리)
      └─▶ F-15 (즐겨찾기 홈 화면)
```

## 기능별 상세 설명

### F-01: 프로젝트 초기 설정
- **작업 내용**:
  - Qt/C++ 프로젝트 생성 (CMakeLists.txt)
  - 기본 디렉토리 구조 구성 (src/browser, src/ui, src/services, src/utils)
  - webOS 메타데이터 설정 (webos-meta/appinfo.json)
  - 스켈레톤 코드 작성 (BrowserWindow, WebView, 서비스 클래스)
  - Git 리포지토리 초기화
- **예상 복잡도**: Low
- **완료 기준**: CMake 빌드 성공, "Hello webOS Browser" 윈도우 표시

### F-02: 웹뷰 통합
- **작업 내용**:
  - webOS WebView API 조사 (iframe vs webOSBrowser API)
  - WebView 컴포넌트 구현 (URL 로드, 이벤트 핸들링)
  - 페이지 로딩, 네비게이션 이벤트 리스닝
  - 웹뷰 상태 관리 (loading, loaded, error)
- **예상 복잡도**: High
- **완료 기준**: URL 입력 시 웹 페이지 렌더링, 로딩 상태 표시

### F-03: URL 입력 UI
- **작업 내용**:
  - URLBar 컴포넌트 (입력 필드, 포커스 스타일)
  - 리모컨 가상 키보드 구현 (Enact VirtualKeyboard 또는 커스텀)
  - URL 자동완성 (히스토리, 북마크 기반)
  - URL 검증 및 자동 http:// 추가
- **예상 복잡도**: Medium
- **완료 기준**: 리모컨으로 URL 입력 → 웹뷰 로드

### F-04: 페이지 탐색 컨트롤
- **작업 내용**:
  - NavigationBar 컴포넌트 (뒤로/앞으로/새로고침/홈 버튼)
  - 웹뷰 히스토리 스택 관리
  - 버튼 활성/비활성 상태 (뒤로 불가 시 비활성)
  - 리모컨 버튼 매핑 (Back 키 → 브라우저 뒤로)
- **예상 복잡도**: Low
- **완료 기준**: 버튼 클릭 시 웹뷰 네비게이션 동작

### F-05: 로딩 인디케이터
- **작업 내용**:
  - LoadingBar 컴포넌트 (프로그레스바)
  - 웹뷰 로딩 진행률 이벤트 수신
  - 로딩 중 스피너 표시
- **예상 복잡도**: Low
- **완료 기준**: 페이지 로딩 중 프로그레스바 표시

### F-06: 탭 관리 시스템
- **작업 내용**:
  - TabManager 서비스 (탭 배열, CRUD)
  - TabBar 컴포넌트 (탭 리스트, 탭 전환 UI)
  - 탭별 웹뷰 인스턴스 관리 (메모리 최적화)
  - 탭 추가/닫기 버튼
  - 리모컨으로 탭 간 이동 (좌/우 화살표)
- **예상 복잡도**: High
- **완료 기준**: 다중 탭 생성, 전환, 닫기 동작

### F-07: 북마크 관리
- **작업 내용**:
  - BookmarkManager 서비스 (IndexedDB 저장)
  - BookmarkPanel 컴포넌트 (리스트, 추가/편집/삭제 다이얼로그)
  - 폴더 구조 (루트, 서브폴더)
  - 북마크 추가 버튼 (현재 페이지 북마크)
  - 북마크 클릭 시 페이지 로드
- **예상 복잡도**: Medium
- **완료 기준**: 북마크 추가/편집/삭제, 북마크에서 페이지 열기

### F-08: 히스토리 관리
- **작업 내용**:
  - HistoryManager 서비스 (IndexedDB 저장)
  - HistoryPanel 컴포넌트 (날짜별 리스트, 검색, 삭제)
  - 페이지 방문 시 자동 기록
  - 히스토리 클릭 시 페이지 로드
- **예상 복잡도**: Medium
- **완료 기준**: 방문 기록 저장, 히스토리 패널에서 조회/삭제

### F-09: 검색 엔진 통합
- **작업 내용**:
  - SearchEngine 서비스 (Google, Naver 검색 URL 생성)
  - URLBar에서 URL이 아닌 검색어 입력 시 검색 엔진으로 쿼리
  - 설정에서 기본 검색 엔진 선택
- **예상 복잡도**: Low
- **완료 기준**: URLBar에서 검색어 입력 → 검색 결과 페이지 로드

### F-10: 에러 처리
- **작업 내용**:
  - ErrorPage 컴포넌트 (연결 실패, 404, 렌더링 오류 메시지)
  - 웹뷰 에러 이벤트 리스닝
  - 재시도 버튼
- **예상 복잡도**: Low
- **완료 기준**: 에러 발생 시 에러 페이지 표시, 재시도 가능

### F-11: 설정 화면
- **작업 내용**:
  - SettingsPanel 컴포넌트 (설정 항목 리스트)
  - 검색 엔진 선택
  - 홈페이지 URL 설정
  - 테마 선택 (다크/라이트)
  - 브라우징 데이터 삭제 (쿠키, 캐시, 히스토리)
  - 설정 저장 (LocalStorage)
- **예상 복잡도**: Medium
- **완료 기준**: 설정 변경 시 앱에 즉시 반영

### F-12: 다운로드 관리
- **작업 내용**:
  - DownloadManager 서비스 (webOS 다운로드 API 사용)
  - DownloadPanel 컴포넌트 (다운로드 리스트, 진행률)
  - 다운로드 시작/중지/삭제
- **예상 복잡도**: High (webOS API 제약 고려)
- **완료 기준**: 파일 다운로드 시작, 진행률 표시, 완료 알림

### F-13: 리모컨 단축키
- **작업 내용**:
  - KeyboardHandler 서비스 (리모컨 키 이벤트 매핑)
  - 채널 버튼 → 탭 전환
  - 컬러 버튼 → 북마크 추가, 히스토리, 설정, 새 탭
  - Back 버튼 → 브라우저 뒤로
- **예상 복잡도**: Low
- **완료 기준**: 리모컨 단축키로 주요 기능 실행

### F-14: HTTPS 보안 표시
- **작업 내용**:
  - SecurityIndicator 컴포넌트 (자물쇠 아이콘)
  - 웹뷰 URL 변경 시 프로토콜 체크 (https vs http)
  - 비보안 사이트 접속 시 경고 다이얼로그
- **예상 복잡도**: Low
- **완료 기준**: HTTPS 사이트에 자물쇠 표시, HTTP 사이트에 경고

### F-15: 즐겨찾기 홈 화면
- **작업 내용**:
  - HomePage 컴포넌트 (북마크 그리드 뷰)
  - 자주 가는 사이트 상위 N개 표시
  - 사이트 클릭 시 페이지 로드
  - 홈 버튼 클릭 시 홈 화면 표시
- **예상 복잡도**: Low
- **완료 기준**: 홈 화면에서 북마크 사이트 즉시 접근
